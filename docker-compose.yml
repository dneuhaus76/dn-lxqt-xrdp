services:
  lxqt:
    build:
      context: . # Pfad zu Ihrem Dockerfile
    image: dneuhaus76/dn-lxqt-xrdp
    container_name: dn-lxqt-xrdp
    #platform: linux/arm64
    shm_size: '2gb'
    #restart: always

    volumes:
      - dn-lxqt-xrdp_home:/home

    ports:
      - "3389:3389"

    networks:
      - dn-lxqt-xrdp

    cap_add:
      - SYS_ADMIN #sonst sshfs-Dateiinhalt ist leer

    devices:
      #- "/dev/dri:/dev/dri"   #Wichtig f√ºr GPU-Beschleunigung (V3D)
      - "/dev/fuse:/dev/fuse" #sonst sshfs-Dateiinhalt ist leer

    #security_opt:
      # Der Pfad zur JSON-Datei auf dem HOST-System (wegen chromium erstellt)
      #- seccomp=./seccomp.json
      #- seccomp:unconfined
      #- apparmor:unconfined

volumes:
  dn-lxqt-xrdp_home:
    name: "dn-lxqt-xrdp_home"
    external: true

networks:
  dn-lxqt-xrdp:
    driver: bridge
    name: "dn-lxqt-xrdp"
    external: true
